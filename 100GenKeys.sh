#!/bin/bash  
# ===================================================================================== #
# ===========	Generate a keypair in HEX32 using clust 				#
# ===================================================================================== #
clust 		generate-keypair > 	Keypair.txt
# ===================================================================================== #
# ===========	Split the keypair into Pub.txt and Priv.txt 				#
# ===================================================================================== #
sed '1d'	Keypair.txt 	> 	Pub.txt
sed '2d'	Keypair.txt 	> 	Priv.txt
# ===================================================================================== #
# =============	Delete Keypair.txt, we dont need it anymore 				#
# ===================================================================================== #
rm -f 					Keypair.txt
# ===================================================================================== #
# =====	Remove stuff that we dont need so we only keep the raw keys inside the files 	#
# ===================================================================================== #
sed -E -i 's/.*(.{64})$/\1/'		Pub.txt
sed -E -i 's/.*(.{64})$/\1/'		Priv.txt
# ===================================================================================== #
#  ==========	Assign a random number for each key pair 				#
#  ==========	Move the key to pubkeys and privkeys folder 				#
# ===================================================================================== #
i=$(echo $RANDOM)
mv 		"Pub.txt" 		"./pubkeys/$i.txt"
mv 		"Priv.txt"		"./privkeys/$i.txt"
# ===================================================================================== #